<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/main.css">
<title>SendIT-  User Parcel</title>
</head>
<body>
  <div class="toptitle">
    <div class="ntitle">
    <h1>SendIT</h1>
    </div>
  </div>

<div class="topnav">
  <a href="index.html">Home</a>
  <a href="userParcel.html">Parcel Delivery Orders</a>
  <a href="userProfile.html">Profile</a>
  <a href="index.html">Log Out</a>
</div>

<div class="title2">
  <h2>Manage Parcels</h2>
  <h3>View and click to create, edit or cancel orders
</div>
<div>


  <div class="container">
    <div class="tab tab-2" >
      <table id="table">
        <tr>
          <th> Pick-up location</th>
          <th> Destination</th>
          <th> Weight</th>
        </tr>
        <tr>
          <td>A1</td>
          <td>B1</td>
          <td>10</td>
        </tr>
        <tr>
          <td>A2</td>
          <td>B2</td>
          <td>20</td>
        </tr>
        <tr>
          <td>A3</td>
          <td>B3</td>
          <td>30</td>
        </tr>
      </table>
      
    </div>
    
  </div>
  <div class="tab tab-2">
    Pick-up Location:<input type="text" name="plocation" id="plocation">
    Destination:<input type="text" name="destination" id="destination">
    Weight:<input type="number" name="weight" id="weight">
    <button onclick="addHtmlTableRow();">Add</button>
    <button onclick="editHtmlTbleSelectedRow();">Edit</button>
    <button onclick="removeSelectedRow()">Remove</button>
  </div>
  <script type="text/javascript">
    var rIndex,
      table = document.getElementById('table');

    // check the empty input
    function checkEmptyInput()
    {
      var isEmpty = false,
      plocation = document.getElementById('plocation').value,
        destination = document.getElementById('destination').value,
        weight = document.getElementById('weight').value;

        if(plocation === ""){
          alert("Pick-up Location cannot be Empty");
          isEmpty = true;
        }

        
        else if(destination === ""){
          alert("Destination cannot be Empty");
          isEmpty = true;
        }
        
        else if(weight === ""){
          alert("Weight cannot be Empty");
          isEmpty = true;
        }

        return isEmpty;
        
    }


    
    function addHtmlTableRow()
    {
      if(!checkEmptyInput()){

      var newRow = table.insertRow(table.length),
        cell1 = newRow.insertCell(0),
        cell2 = newRow.insertCell(1),
        cell3 = newRow.insertCell(2),
        plocation = document.getElementById('plocation').value,
        destination = document.getElementById('destination').value,
        weight = document.getElementById('weight').value;

    cell1.innerHTML = plocation;
    cell2.innerHTML = destination;
    cell3.innerHTML = weight;

    selectedRowToInput();
    }

    }


    function selectedRowToInput()
    {
      
      for(var i=1; i<table.rows.length;i++)
      {
        table.rows[i].onclick = function()
        {
          
          rIndex = this.rowIndex;
          document.getElementById('plocation').value = this.cells[0].innerHTML;
          document.getElementById('destination').value = this.cells[1].innerHTML;
          document.getElementById('weight').value = this.cells[2].innerHTML;
        };
      }
    }
    selectedRowToInput();

    function editHtmlTbleSelectedRow()
    {
      var plocation = document.getElementById('plocation').value,
      destination = document.getElementById('destination').value,
      weight = document.getElementById('weight').value;

      if(!checkEmptyInput()){
      table.rows[rIndex].cells[0].innerHTML = plocation;
      table.rows[rIndex].cells[1].innerHTML = destination;
      table.rows[rIndex].cells[2].innerHTML = weight;
      }
    }


    function removeSelectedRow()
    {
      table.deleteRow(rIndex);
      //clear input text
      var plocation = document.getElementById('plocation').value = "",
      destination = document.getElementById('destination').value = "",
      weight = document.getElementById('weight').value = "";
    }

  </script> 

  


</div>
</body>
</html>
