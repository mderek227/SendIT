<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/main.css">
<title>SendIT-  User Parcel</title>
</head>
<body>
  <div class="toptitle">
    <div class="ntitle">
    <h1>SendIT</h1>
    </div>
  </div>

<div class="topnav">
  <a href="index.html">Home</a>
  <a href="userParcel.html">Parcel Delivery Orders</a>
  <a href="userProfile.html">Profile</a>
  <a href="index.html">Log Out</a>
</div>

<div class="title2">
  <h2>Manage Parcels</h2>
  <h3>View and click on row to create, edit or cancel orders
</div>
<div>


  <div class="container">
      <div class="tab tab-2 tab-3">
    Pick-up Location:<input type="text" name="plocation" id="plocation">
    Destination:<input type="text" name="destination" id="destination">
    Current Location:<input type="text" name="clocation" id="clocation">
    Status:<input type="text" name="status" id="status">
    Price:<input type="text" name="price" id="price">
    <button onclick="addHtmlTableRow();">Add</button>
    <button onclick="editHtmlTbleSelectedRow();">Edit</button>
    <button onclick="removeSelectedRow()">Remove</button>
  </div>

    <div class="tab tab-2" >
      <table id="table">
        <tr>
          <th> Pick-up location</th>
          <th> Destination</th>
          <th> Current location</th>
          <th> Status</th>
          <th> Price</th>
        </tr>
        <tr>
          <td>Rubaga</td>
          <td>Bukoto</td>
          <td>Bukoto</td>
          <td>Delivered</td>
          <td>10000</td>
        </tr>
        <tr>
          <td>Luzira</td>
          <td>Gaba</td>
          <td>Nakawa</td>
          <td>In transit</td>
          <td>30000</td>
        </tr>
        <tr>
          <td>Mengo</td>
          <td>Kawempe</td>
          <td>Makerere</td>
          <td>In transit</td>
          <td>20000</td>
        </tr>
      </table>
      
    </div>
    
  </div>




  <script type="text/javascript">
    var rIndex,
      table = document.getElementById('table');

    // check the empty input
    function checkEmptyInput()
    {
      var isEmpty = false,
      plocation = document.getElementById('plocation').value,
        destination = document.getElementById('destination').value,
        clocation = document.getElementById('clocation').value,
        status = document.getElementById('status').value,
        price = document.getElementById('price').value;

        if(plocation === ""){
          alert("Pick-up Location cannot be Empty");
          isEmpty = true;
        }

        
        else if(destination === ""){
          alert("Destination cannot be Empty");
          isEmpty = true;
        }
        
        else if(clocation === ""){
          alert("Current Location cannot be Empty");
          isEmpty = true;
        }
        else if(status === ""){
          alert("Status cannot be Empty");
          isEmpty = true;
        }
        else if(price === ""){
          alert("Price cannot be Empty");
          isEmpty = true;
        }

        return isEmpty;
        
    }


    
    function addHtmlTableRow()
    {
      if(!checkEmptyInput()){

      var newRow = table.insertRow(table.length),
        cell1 = newRow.insertCell(0),
        cell2 = newRow.insertCell(1),
        cell3 = newRow.insertCell(2),
        cell4 = newRow.insertCell(3),
        cell5 = newRow.insertCell(4),
        plocation = document.getElementById('plocation').value,
        destination = document.getElementById('destination').value,
        clocation = document.getElementById('clocation').value,
        status = document.getElementById('status').value,
        price = document.getElementById('price').value;

    cell1.innerHTML = plocation;
    cell2.innerHTML = destination;
    cell3.innerHTML = clocation;
    cell4.innerHTML = status;
    cell5.innerHTML = price;

    selectedRowToInput();
    }

    }


    function selectedRowToInput()
    {
      
      for(var i=1; i<table.rows.length;i++)
      {
        table.rows[i].onclick = function()
        {
          
          rIndex = this.rowIndex;
          document.getElementById('plocation').value = this.cells[0].innerHTML;
          document.getElementById('destination').value = this.cells[1].innerHTML;
          document.getElementById('clocation').value = this.cells[2].innerHTML;
          document.getElementById('status').value = this.cells[3].innerHTML;
          document.getElementById('price').value = this.cells[4].innerHTML;
        };
      }
    }
    selectedRowToInput();

    function editHtmlTbleSelectedRow()
    {
      var plocation = document.getElementById('plocation').value,
      destination = document.getElementById('destination').value,
      clocation = document.getElementById('clocation').value,
      status = document.getElementById('status').value,
      price = document.getElementById('price').value;

      if(!checkEmptyInput()){
      table.rows[rIndex].cells[0].innerHTML = plocation;
      table.rows[rIndex].cells[1].innerHTML = destination;
      table.rows[rIndex].cells[2].innerHTML = clocation;
      table.rows[rIndex].cells[3].innerHTML = status;
      table.rows[rIndex].cells[4].innerHTML = price;
      }
    }


    function removeSelectedRow()
    {
      table.deleteRow(rIndex);
      //clear input text
      var plocation = document.getElementById('plocation').value = "",
      destination = document.getElementById('destination').value = "",
      clocation = document.getElementById('clocation').value = "",
      status = document.getElementById('status').value = "",
      price = document.getElementById('price').value = "";
    }

  </script> 

  

</div>
</body>
</html>
